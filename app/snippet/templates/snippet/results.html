{% extends 'snippet/_base.html' %}
{% load staticfiles %}


{% block stylestop %}
  <link rel="stylesheet" href="{% static 'snippet/css/results.css' %}">
	<link rel="stylesheet" href="{% static 'nil/css/default.min.css' %}">
	<link rel="stylesheet" href="{% static 'nil/css/solarized_dark.css' %}">
{% endblock %}


{% block main %}
  
	
	{% if searchQuery %}
	   <h2>Search Results for '{{ searchQuery }}':</h2>
	{% else %}
	   <h2>Search Results:</h2>
	{% endif %}
  
  
  {% for snippet in object_list %}
    <div style="border: 1px solid black;">
      <a href="{% url 'snippet:detailSnippet' snippet.url_code %}"><p>{{ snippet.title }}</p></a>
    </div>
    <br>
  {% endfor %}
	
	<div class="row">
		<div class="ccol-md-1"></div>
		
		<div class="col-md-12">
			<ul class="list-unstyled results-list">
				{% for snippet in object_list %}
				<li class="col-md-4 results-object-outer">
					
					
					<div class="results-object">
						{% if snippet.author %}
						<p class="rtop"><span class="title">{{ snippet.title }}</span> by <span class="author"><a href="{% url 'userext:profile' usrname=snippet.author.username %}">{{ snippet.author }}</a></span></p>
						{% else %}
						<p class="rtop"><span class="title">{{ snippet.title }}</span> by <span class="author">Guest</span></p>
						{% endif %}
						<div class="results-object-preview">
							<pre class="{{ snippet.language }}">
{{ snippet.preview|escape }}
							</pre>
						</div> <!-- /.results-object-preview -->
						<p class="rbottom"><small class="text-muted">{{ snippet.date_added_raw|date:"SHORT_DATETIME_FORMAT" }}</small></p>
					</div>
					
					
				</li>
				{% endfor %}
			</ul>
		</div>
		
		<div class="ccol-md-1"></div>
	</div>
  
  {% if is_paginated %}
    {% if page_obj.has_previous %}
      <a href="{% url 'snippet:searchSnippet' pg=page_obj.previous_page_number %}">Previous</a>
    {% endif %}
    <span>
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </span>
    {% if page_obj.has_next %}
      <a href="{% url 'snippet:searchSnippet' pg=page_obj.next_page_number %}">Next</a>
    {% endif %}
  {% endif %}
  
{% endblock %}


{% block scriptsbottom %}
<script type="text/javascript" src="{% static 'nil/js/highlight.min.js' %}"></script>
<script type="text/javascript">
	$(document).ready(function() {
		
		$('div pre').each(function(i, block) {
			hljs.highlightBlock(block);
		});
		
	});
</script>
{% endblock %}
